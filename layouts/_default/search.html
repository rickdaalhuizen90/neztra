{{ define "main" }}
  <h2 class="small-title">{{ .Title }}: <span id="query"></span></h2>
  <div id="search-results"></div>

  <!-- this template is sucked in by search.js and appended to the search-results div above. So editing here will adjust style -->
  <script id="search-result-template" type="text/x-js-template">
      <article id="summary-${key}">
        <h2><a href="${link}">${title}</a></h2>
        <p>${snippet}</p>
        <a href="${link}" role="button">{{ T "readMore" }} â†’</a>

        <div class="meta">
        ${ isset categories }<b><span>Categories:</span> ${categories}</b>${ end }
        </div>
      </article>
  </script>

  <script>
    let query = new URLSearchParams(window.location.search);

    if (query.has('s')) {
      document.getElementById('query').textContent = query.get('s').replace(/\W/g, ' ');
    }
  </script>
{{ end }}