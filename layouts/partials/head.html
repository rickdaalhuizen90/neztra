<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
{{ $title := print .Site.Title " | " .Title }}
{{ if .IsHome }}{{ $title = .Site.Title }}{{ end }}
<title>{{ $title }} | {{ .Site.Params.subtitle }}</title>

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="description" content="{{if .Description}}{{.Description}}{{else}}{{$.Site.Params.description }}{{end}}" />
{{ with .Site.Params.author }}<meta name="author" content="{{ . }}">{{ end }}
{{ hugo.Generator }}

{{- partial "schema.html" . -}}

<!-- The Open Graph protocol -->
{{- partial "ogp.html" . -}}

<!-- Google -->
<meta name="google-site-verification" content="+nxGUDJ4QpAZ5l9Bsjdi102tLVC21AIh5d1Nl23908vVuFHs34="/>

{{ if eq (getenv "HUGO_ENV") "production" }}
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
{{ else }}
<meta name="robots" content="noindex, nofollow">
{{ end }}

<!-- Web App Settings. -->
<meta name="application-name" content="{{ .Site.Title }}">
<meta name="mobile-web-app-capable" content="yes">

<!-- Apple iOS Settings. -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="{{ .Site.Title }}">

<!-- Favicons -->
<link rel="icon" sizes="16x16" href="{{ .Site.BaseURL }}/favicon-16x16.png">
<link rel="icon" sizes="32x32" href="{{ .Site.BaseURL }}/favicon-32x32.png">
<link rel="icon" sizes="192x192" href="{{ .Site.BaseURL }}/android-chrome-192x192.png">
<link rel="icon" sizes="512x512" href="{{ .Site.BaseURL }}/android-chrome-512x512.png">
<link rel="apple-touch-icon" href="{{ .Site.BaseURL }}/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="{{ .Site.Params.themeColor }}">

{{ if eq .Site.Params.pwa true }}
<!-- PWA -->
<link rel="manifest" href="{{ .Site.BaseURL }}/manifest.json">

{{ $sw := resources.Get "js/sw.js" | js.Build "sw.js" | minify }}
<script async src={{ $sw.Permalink }}></script>
{{ end }}

<!-- Google Android. -->
<meta name="theme-color" content="{{ .Site.Params.themeColor }}">

<!-- Humans -->
<link rel="author" href="{{ .Site.BaseURL }}/humans.txt">
<link rel="copyright" href="{{ .Site.BaseURL }}/copyright.txt">

<!-- SEO -->
<link rel="canonical" href="{{ .Page.RelPermalink }}">

<!-- Alternative Languages. -->
{{ range $.Site.Home.AllTranslations }}
<link rel="alternate" href="{{ .Permalink }}" hreflang="{{ .Language }}">
{{ end }}

{{ if .Site.RSSLink }}
<link href="{{ .Site.RSSLink }}" rel="alternate" type="application/rss+xml" title="{{ $title }} | {{ .Site.Params.subtitle }} Feed" />
{{ end }}

<!-- Stylesheet -->
{{ $css := resources.Get "css/main.scss" | toCSS }}
{{ $style := (slice $css | resources.Concat "style.css") | minify }}
<link rel="stylesheet" href="{{ $style.RelPermalink }}" />

<!-- Facebook -->
<meta name="facebook-domain-verification" content="i8s7eghh4r3dmkotyuu99f1403fjov" />

<!-- Google Analytics -->
{{ if eq (getenv "HUGO_ENV") "production" }}
<script async src="https://www.googletagmanager.com/gtag/js?id={{ .Site.Params.googleAnalytics }}"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('set', 'PWA', navigator.onLine);
  gtag('config', '{{ .Site.Params.googleAnalytics }}');
</script>
{{ end }}

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9817343977140587"
     crossorigin="anonymous"></script>
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
